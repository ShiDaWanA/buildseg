import{aw as w,T as m,a3 as z,ax as Lt,ay as vt,N as k,ag as Dt,az as Tt,aA as wt,aB as It,aC as Et,a0 as O,aD as _t,aE as kt,y as D,aF as Ot,aG as ft,aH as ht,aI as G,aJ as Gt,aK as Pt,aL as Nt,aM as j,aN as M,aO as Y,$,k as gt,at as Bt,a7 as Rt,_ as L,C as dt,aP as Ft,a1 as I,I as P,aQ as zt,ah as Vt,aj as Ht,aR as Zt,a5 as Wt,aS as $t,aT as U,aU as K,aV as Xt,aW as jt,aX as N,a8 as Yt,aY as Ut,x as Kt,a6 as B,aZ as Jt,a_ as J,a$ as Q,b0 as Qt,b1 as qt,b2 as te,b3 as V,b4 as q,G as ee,b5 as ae,b6 as re,o as ne,b7 as ie,b8 as oe,b9 as tt,ba as et,e as se,u as at,bb as le}from"./index.esm.min-90f1887f.js";var ue=function(){function e(t){this.coordSysDims=[],this.axisMap=z(),this.categoryAxisMap=z(),this.coordSysName=t}return e}();function ce(e){var t=e.get("coordinateSystem"),a=new ue(t),n=ve[t];if(n)return n(e,a,a.axisMap,a.categoryAxisMap),a}var ve={cartesian2d:function(e,t,a,n){var r=e.getReferringComponents("xAxis",w).models[0],i=e.getReferringComponents("yAxis",w).models[0];t.coordSysDims=["x","y"],a.set("x",r),a.set("y",i),E(r)&&(n.set("x",r),t.firstCategoryDimIndex=0),E(i)&&(n.set("y",i),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,a,n){var r=e.getReferringComponents("singleAxis",w).models[0];t.coordSysDims=["single"],a.set("single",r),E(r)&&(n.set("single",r),t.firstCategoryDimIndex=0)},polar:function(e,t,a,n){var r=e.getReferringComponents("polar",w).models[0],i=r.findAxisModel("radiusAxis"),o=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],a.set("radius",i),a.set("angle",o),E(i)&&(n.set("radius",i),t.firstCategoryDimIndex=0),E(o)&&(n.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,a,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,a,n){var r=e.ecModel,i=r.getComponent("parallel",e.get("parallelIndex")),o=t.coordSysDims=i.dimensions.slice();m(i.parallelAxisIndex,function(s,u){var l=r.getComponent("parallelAxis",s),v=o[u];a.set(v,l),E(l)&&(n.set(v,l),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=u))})}};function E(e){return e.get("type")==="category"}function fe(e,t){var a=e.get("coordinateSystem"),n=kt.get(a),r;return t&&t.coordSysDims&&(r=D(t.coordSysDims,function(i){var o={name:i},s=t.axisMap.get(i);if(s){var u=s.get("type");o.type=Ot(u)}return o})),r||(r=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),r}function he(e,t,a){var n,r;return a&&m(e,function(i,o){var s=i.coordDim,u=a.categoryAxisMap.get(s);u&&(n==null&&(n=o),i.ordinalMeta=u.getOrdinalMeta(),t&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(r=!0)}),!r&&n!=null&&(e[n].otherDims.itemName=0),n}function ra(e,t,a){a=a||{};var n=t.getSourceManager(),r,i=!1;e?(i=!0,r=Lt(e)):(r=n.getSource(),i=r.sourceFormat===vt);var o=ce(t),s=fe(t,o),u=a.useEncodeDefaulter,l=k(u)?u:u?Dt(Tt,s,t):null,v={coordDimensions:s,generateCoord:a.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!i},f=wt(r,v),g=he(f.dimensions,a.createInvertedIndices,o),h=i?null:n.getSharedDataStore(f),c=It(t,{schema:f,store:h}),d=new Et(f,t);d.setCalculationInfo(c);var p=g!=null&&ge(r)?function(A,C,x,y){return y===g?x:this.defaultDimValueGetter(A,C,x,y)}:null;return d.hasItemOption=!1,d.initData(i?r:h,null,p),d}function ge(e){if(e.sourceFormat===vt){var t=de(e.data||[]);return!O(_t(t))}}function de(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var pe=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}(),_=ft();function xe(e){return e.type==="category"?me(e):Ce(e)}function ye(e,t){return e.type==="category"?Ae(e,t):{ticks:D(e.scale.getTicks(),function(a){return a.value})}}function me(e){var t=e.getLabelModel(),a=pt(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:a.labelCategoryInterval}:a}function pt(e,t){var a=xt(e,"labels"),n=ht(t),r=yt(a,n);if(r)return r;var i,o;return k(n)?i=Ct(e,n):(o=n==="auto"?be(e):n,i=At(e,o)),mt(a,n,{labels:i,labelCategoryInterval:o})}function Ae(e,t){var a=xt(e,"ticks"),n=ht(t),r=yt(a,n);if(r)return r;var i,o;if((!t.get("show")||e.scale.isBlank())&&(i=[]),k(n))i=Ct(e,n,!0);else if(n==="auto"){var s=pt(e,e.getLabelModel());o=s.labelCategoryInterval,i=D(s.labels,function(u){return u.tickValue})}else o=n,i=At(e,o,!0);return mt(a,n,{ticks:i,tickCategoryInterval:o})}function Ce(e){var t=e.scale.getTicks(),a=G(e);return{labels:D(t,function(n,r){return{level:n.level,formattedLabel:a(n,r),rawLabel:e.scale.getLabel(n),tickValue:n.value}})}}function xt(e,t){return _(e)[t]||(_(e)[t]=[])}function yt(e,t){for(var a=0;a<e.length;a++)if(e[a].key===t)return e[a].value}function mt(e,t,a){return e.push({key:t,value:a}),a}function be(e){var t=_(e).autoInterval;return t??(_(e).autoInterval=e.calculateCategoryInterval())}function Se(e){var t=Me(e),a=G(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,r=e.scale,i=r.getExtent(),o=r.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=i[0],l=e.dataToCoord(u+1)-e.dataToCoord(u),v=Math.abs(l*Math.cos(n)),f=Math.abs(l*Math.sin(n)),g=0,h=0;u<=i[1];u+=s){var c=0,d=0,p=Gt(a({value:u}),t.font,"center","top");c=p.width*1.3,d=p.height*1.3,g=Math.max(g,c,7),h=Math.max(h,d,7)}var A=g/v,C=h/f;isNaN(A)&&(A=1/0),isNaN(C)&&(C=1/0);var x=Math.max(0,Math.floor(Math.min(A,C))),y=_(e.model),b=e.getExtent(),S=y.lastAutoInterval,T=y.lastTickCount;return S!=null&&T!=null&&Math.abs(S-x)<=1&&Math.abs(T-o)<=1&&S>x&&y.axisExtent0===b[0]&&y.axisExtent1===b[1]?x=S:(y.lastTickCount=o,y.lastAutoInterval=x,y.axisExtent0=b[0],y.axisExtent1=b[1]),x}function Me(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function At(e,t,a){var n=G(e),r=e.scale,i=r.getExtent(),o=e.getLabelModel(),s=[],u=Math.max((t||0)+1,1),l=i[0],v=r.count();l!==0&&u>1&&v/u>2&&(l=Math.round(Math.ceil(l/u)*u));var f=Pt(e),g=o.get("showMinLabel")||f,h=o.get("showMaxLabel")||f;g&&l!==i[0]&&d(i[0]);for(var c=l;c<=i[1];c+=u)d(c);h&&c-u!==i[1]&&d(i[1]);function d(p){var A={value:p};s.push(a?p:{formattedLabel:n(A),rawLabel:r.getLabel(A),tickValue:p})}return s}function Ct(e,t,a){var n=e.scale,r=G(e),i=[];return m(n.getTicks(),function(o){var s=n.getLabel(o),u=o.value;t(o.value,s)&&i.push(a?u:{formattedLabel:r(o),rawLabel:s,tickValue:u})}),i}var rt=[0,1],Le=function(){function e(t,a,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=a,this._extent=n||[0,0]}return e.prototype.contain=function(t){var a=this._extent,n=Math.min(a[0],a[1]),r=Math.max(a[0],a[1]);return t>=n&&t<=r},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return Nt(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,a){var n=this._extent;n[0]=t,n[1]=a},e.prototype.dataToCoord=function(t,a){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&r.type==="ordinal"&&(n=n.slice(),nt(n,r.count())),j(t,rt,n,a)},e.prototype.coordToData=function(t,a){var n=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&(n=n.slice(),nt(n,r.count()));var i=j(t,n,rt,a);return this.scale.scale(i)},e.prototype.pointToData=function(t,a){},e.prototype.getTicksCoords=function(t){t=t||{};var a=t.tickModel||this.getTickModel(),n=ye(this,a),r=n.ticks,i=D(r,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=a.get("alignWithLabel");return De(this,i,o,t.clamp),i},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),a=t.get("splitNumber");a>0&&a<100||(a=5);var n=this.scale.getMinorTicks(a),r=D(n,function(i){return D(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return r},e.prototype.getViewLabels=function(){return xe(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,a=this.scale.getExtent(),n=a[1]-a[0]+(this.onBand?1:0);n===0&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},e.prototype.calculateCategoryInterval=function(){return Se(this)},e}();function nt(e,t){var a=e[1]-e[0],n=t,r=a/n/2;e[0]+=r,e[1]-=r}function De(e,t,a,n){var r=t.length;if(!e.onBand||a||!r)return;var i=e.getExtent(),o,s;if(r===1)t[0].coord=i[0],o=t[1]={coord:i[0]};else{var u=t[r-1].tickValue-t[0].tickValue,l=(t[r-1].coord-t[0].coord)/u;m(t,function(h){h.coord-=l/2});var v=e.scale.getExtent();s=1+v[1]-t[r-1].tickValue,o={coord:t[r-1].coord+l*s},t.push(o)}var f=i[0]>i[1];g(t[0].coord,i[0])&&(n?t[0].coord=i[0]:t.shift()),n&&g(i[0],t[0].coord)&&t.unshift({coord:i[0]}),g(i[1],o.coord)&&(n?o.coord=i[1]:t.pop()),n&&g(o.coord,i[1])&&t.push({coord:i[1]});function g(h,c){return h=M(h),c=M(c),f?h>c:h<c}}const Te=Le;function na(e,t){var a=e.mapDimensionsAll("defaultedLabel"),n=a.length;if(n===1){var r=Y(e,t,a[0]);return r!=null?r+"":null}else if(n){for(var i=[],o=0;o<a.length;o++)i.push(Y(e,t,a[o]));return i.join(" ")}}function ia(e,t){var a=e.mapDimensionsAll("defaultedLabel");if(!O(t))return t+"";for(var n=[],r=0;r<a.length;r++){var i=e.getDimensionIndex(a[r]);i>=0&&n.push(t[i])}return n.join(" ")}function we(e,t,a,n,r){var i=e.getArea(),o=i.x,s=i.y,u=i.width,l=i.height,v=a.get(["lineStyle","width"])||2;o-=v/2,s-=v/2,u+=v,l+=v,o=Math.floor(o),u=Math.round(u);var f=new $({shape:{x:o,y:s,width:u,height:l}});if(t){var g=e.getBaseAxis(),h=g.isHorizontal(),c=g.inverse;h?(c&&(f.shape.x+=u),f.shape.width=0):(c||(f.shape.y+=l),f.shape.height=0);var d=k(r)?function(p){r(p,f)}:null;gt(f,{shape:{width:u,height:l,x:o,y:s}},a,null,n,d)}return f}function Ie(e,t,a){var n=e.getArea(),r=M(n.r0,1),i=M(n.r,1),o=new Bt({shape:{cx:M(e.cx,1),cy:M(e.cy,1),r0:r,r:i,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var s=e.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=r,gt(o,{shape:{endAngle:n.endAngle,r:i}},a)}return o}function oa(e,t,a,n,r){if(e){if(e.type==="polar")return Ie(e,t,a);if(e.type==="cartesian2d")return we(e,t,a,n,r)}else return null;return null}function sa(e,t){return e.type===t}var Ee={average:function(e){for(var t=0,a=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],a++);return a===0?NaN:t/a},sum:function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a]||0;return t},max:function(e){for(var t=-1/0,a=0;a<e.length;a++)e[a]>t&&(t=e[a]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,a=0;a<e.length;a++)e[a]<t&&(t=e[a]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},_e=function(e){return Math.round(e.length/2)};function la(e){return{seriesType:e,reset:function(t,a,n){var r=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,s=r.count();if(s>10&&o.type==="cartesian2d"&&i){var u=o.getBaseAxis(),l=o.getOtherAxis(u),v=u.getExtent(),f=n.getDevicePixelRatio(),g=Math.abs(v[1]-v[0])*(f||1),h=Math.round(s/g);if(isFinite(h)&&h>1){i==="lttb"&&t.setData(r.lttbDownSample(r.mapDimension(l.dim),1/h));var c=void 0;Rt(i)?c=Ee[i]:k(i)&&(c=i),c&&t.setData(r.downSample(r.mapDimension(l.dim),1/h,c,_e))}}}}}var ke=function(e){L(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(dt);const Oe=ke;var H=function(e){L(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",w).models[0]},t.type="cartesian2dAxis",t}(dt);Ft(H,pe);var bt={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Ge=I({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},bt),X=I({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},bt),Pe=I({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},X),Ne=P({logBase:10},X);const Be={category:Ge,value:X,time:Pe,log:Ne};var Re={value:1,category:1,time:1,log:1};function it(e,t,a,n){m(Re,function(r,i){var o=I(I({},Be[i],!0),n,!0),s=function(u){L(l,u);function l(){var v=u!==null&&u.apply(this,arguments)||this;return v.type=t+"Axis."+i,v}return l.prototype.mergeDefaultAndTheme=function(v,f){var g=zt(this),h=g?Vt(v):{},c=f.getTheme();I(v,c.get(i+"Axis")),I(v,this.getDefaultOption()),v.type=ot(v),g&&Ht(v,h,g)},l.prototype.optionUpdated=function(){var v=this.option;v.type==="category"&&(this.__ordinalMeta=Zt.createByAxisModel(this))},l.prototype.getCategories=function(v){var f=this.option;if(f.type==="category")return v?f.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=t+"Axis."+i,l.defaultOption=o,l}(a);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(t+"Axis",ot)}function ot(e){return e.type||(e.data?"category":"value")}var Fe=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return D(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Wt(this.getAxes(),function(a){return a.scale.type===t})},e.prototype.addAxis=function(t){var a=t.dim;this._axes[a]=t,this._dimList.push(a)},e}();const ze=Fe;var Z=["x","y"];function st(e){return e.type==="interval"||e.type==="time"}var Ve=function(e){L(t,e);function t(){var a=e!==null&&e.apply(this,arguments)||this;return a.type="cartesian2d",a.dimensions=Z,a}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var a=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!st(a)||!st(n))){var r=a.getExtent(),i=n.getExtent(),o=this.dataToPoint([r[0],i[0]]),s=this.dataToPoint([r[1],i[1]]),u=r[1]-r[0],l=i[1]-i[0];if(!(!u||!l)){var v=(s[0]-o[0])/u,f=(s[1]-o[1])/l,g=o[0]-r[0]*v,h=o[1]-i[0]*f,c=this._transform=[v,0,0,f,g,h];this._invTransform=$t([],c)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(a){var n=this.getAxis("x"),r=this.getAxis("y");return n.contain(n.toLocalCoord(a[0]))&&r.contain(r.toLocalCoord(a[1]))},t.prototype.containData=function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},t.prototype.containZone=function(a,n){var r=this.dataToPoint(a),i=this.dataToPoint(n),o=this.getArea(),s=new U(r[0],r[1],i[0]-r[0],i[1]-r[1]);return o.intersect(s)},t.prototype.dataToPoint=function(a,n,r){r=r||[];var i=a[0],o=a[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return K(r,a,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(i,n)),r[1]=u.toGlobalCoord(u.dataToCoord(o,n)),r},t.prototype.clampData=function(a,n){var r=this.getAxis("x").scale,i=this.getAxis("y").scale,o=r.getExtent(),s=i.getExtent(),u=r.parse(a[0]),l=i.parse(a[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n},t.prototype.pointToData=function(a,n){var r=[];if(this._invTransform)return K(r,a,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return r[0]=i.coordToData(i.toLocalCoord(a[0]),n),r[1]=o.coordToData(o.toLocalCoord(a[1]),n),r},t.prototype.getOtherAxis=function(a){return this.getAxis(a.dim==="x"?"y":"x")},t.prototype.getArea=function(){var a=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),r=Math.min(a[0],a[1]),i=Math.min(n[0],n[1]),o=Math.max(a[0],a[1])-r,s=Math.max(n[0],n[1])-i;return new U(r,i,o,s)},t}(ze),He=function(e){L(t,e);function t(a,n,r,i,o){var s=e.call(this,a,n,r)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var a=this.position;return a==="top"||a==="bottom"},t.prototype.getGlobalExtent=function(a){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),a&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(a,n){return this.coordToData(this.toLocalCoord(a[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(a){if(this.type!=="category")return!1;this.model.option.categorySortInfo=a,this.scale.setSortInfo(a)},t}(Te);const Ze=He;var R=Math.log;function We(e,t,a){var n=Xt.prototype,r=n.getTicks.call(a),i=n.getTicks.call(a,!0),o=r.length-1,s=n.getInterval.call(a),u=jt(e,t),l=u.extent,v=u.fixMin,f=u.fixMax;if(e.type==="log"){var g=R(e.base);l=[R(l[0])/g,R(l[1])/g]}e.setExtent(l[0],l[1]),e.calcNiceExtent({splitNumber:o,fixMin:v,fixMax:f});var h=n.getExtent.call(e);v&&(l[0]=h[0]),f&&(l[1]=h[1]);var c=n.getInterval.call(e),d=l[0],p=l[1];if(v&&f)c=(p-d)/o;else if(v)for(p=l[0]+c*o;p<l[1]&&isFinite(p)&&isFinite(l[1]);)c=N(c),p=l[0]+c*o;else if(f)for(d=l[1]-c*o;d>l[0]&&isFinite(d)&&isFinite(l[0]);)c=N(c),d=l[1]-c*o;else{var A=e.getTicks().length-1;A>o&&(c=N(c));var C=c*o;p=Math.ceil(l[1]/c)*c,d=M(p-C),d<0&&l[0]>=0?(d=0,p=M(C)):p>0&&l[1]<=0&&(p=0,d=-M(C))}var x=(r[0].value-i[0].value)/s,y=(r[o].value-i[o].value)/s;n.setExtent.call(e,d+c*x,p+c*y),n.setInterval.call(e,c),(x||y)&&n.setNiceExtent.call(e,d+c,p-c)}var $e=function(){function e(t,a,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Z,this._initCartesian(t,a,n),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,a){var n=this._axesMap;this._updateScale(t,this.model);function r(o){var s,u=te(o),l=u.length;if(l){for(var v=[],f=l-1;f>=0;f--){var g=+u[f],h=o[g],c=h.model,d=h.scale;V(d)&&c.get("alignTicks")&&c.get("interval")==null?v.push(h):(q(d,c),V(d)&&(s=h))}v.length&&(s||(s=v.pop(),q(s.scale,s.model)),m(v,function(p){We(p.scale,p.model,s.scale)}))}}r(n.x),r(n.y);var i={};m(n.x,function(o){lt(n,"y",o,i)}),m(n.y,function(o){lt(n,"x",o,i)}),this.resize(this.model,a)},e.prototype.resize=function(t,a,n){var r=t.getBoxLayoutParams(),i=!n&&t.get("containLabel"),o=Yt(r,{width:a.getWidth(),height:a.getHeight()});this._rect=o;var s=this._axesList;u(),i&&(m(s,function(l){if(!l.model.get(["axisLabel","inside"])){var v=Ut(l);if(v){var f=l.isHorizontal()?"height":"width",g=l.model.get(["axisLabel","margin"]);o[f]-=v[f]+g,l.position==="top"?o.y+=v.height+g:l.position==="left"&&(o.x+=v.width+g)}}}),u()),m(this._coordsList,function(l){l.calcAffineTransform()});function u(){m(s,function(l){var v=l.isHorizontal(),f=v?[0,o.width]:[0,o.height],g=l.inverse?1:0;l.setExtent(f[g],f[1-g]),Xe(l,v?o.x:o.y)})}},e.prototype.getAxis=function(t,a){var n=this._axesMap[t];if(n!=null)return n[a||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,a){if(t!=null&&a!=null){var n="x"+t+"y"+a;return this._coordsMap[n]}Kt(t)&&(a=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis("x").index===t||i[r].getAxis("y").index===a)return i[r]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,a,n){var r=this._findConvertTarget(a);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(t,a,n){var r=this._findConvertTarget(a);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(t){var a=t.seriesModel,n=t.xAxisModel||a&&a.getReferringComponents("xAxis",w).models[0],r=t.yAxisModel||a&&a.getReferringComponents("yAxis",w).models[0],i=t.gridModel,o=this._coordsList,s,u;if(a)s=a.coordinateSystem,B(o,s)<0&&(s=null);else if(n&&r)s=this.getCartesian(n.componentIndex,r.componentIndex);else if(n)u=this.getAxis("x",n.componentIndex);else if(r)u=this.getAxis("y",r.componentIndex);else if(i){var l=i.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:u}},e.prototype.containPoint=function(t){var a=this._coordsList[0];if(a)return a.containPoint(t)},e.prototype._initCartesian=function(t,a,n){var r=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(a.eachComponent("xAxis",l("x"),this),a.eachComponent("yAxis",l("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,m(s.x,function(v,f){m(s.y,function(g,h){var c="x"+f+"y"+h,d=new Ve(c);d.master=r,d.model=t,r._coordsMap[c]=d,r._coordsList.push(d),d.addAxis(v),d.addAxis(g)})});function l(v){return function(f,g){if(F(f,t)){var h=f.get("position");v==="x"?h!=="top"&&h!=="bottom"&&(h=o.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=o.left?"right":"left"),o[h]=!0;var c=new Ze(v,Jt(f),[0,0],f.get("type"),h),d=c.type==="category";c.onBand=d&&f.get("boundaryGap"),c.inverse=f.get("inverse"),f.axis=c,c.model=f,c.grid=i,c.index=g,i._axesList.push(c),s[v][g]=c,u[v]++}}}},e.prototype._updateScale=function(t,a){m(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var i=r.model.get("categorySortInfo");r.scale.setSortInfo(i)}}),t.eachSeries(function(r){if(J(r)){var i=Q(r),o=i.xAxisModel,s=i.yAxisModel;if(!F(o,a)||!F(s,a))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),l=r.getData(),v=u.getAxis("x"),f=u.getAxis("y");n(l,v),n(l,f)}},this);function n(r,i){m(Qt(r,i.dim),function(o){i.scale.unionExtentFromData(r,o)})}},e.prototype.getTooltipAxes=function(t){var a=[],n=[];return m(this.getCartesians(),function(r){var i=t!=null&&t!=="auto"?r.getAxis(t):r.getBaseAxis(),o=r.getOtherAxis(i);B(a,i)<0&&a.push(i),B(n,o)<0&&n.push(o)}),{baseAxes:a,otherAxes:n}},e.create=function(t,a){var n=[];return t.eachComponent("grid",function(r,i){var o=new e(r,t,a);o.name="grid_"+i,o.resize(r,a,!0),r.coordinateSystem=o,n.push(o)}),t.eachSeries(function(r){if(J(r)){var i=Q(r),o=i.xAxisModel,s=i.yAxisModel,u=o.getCoordSysModel(),l=u.coordinateSystem;r.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),n},e.dimensions=Z,e}();function F(e,t){return e.getCoordSysModel()===t}function lt(e,t,a,n){a.getAxesOnZeroOf=function(){return i?[i]:[]};var r=e[t],i,o=a.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(u!=null)ut(r[u])&&(i=r[u]);else for(var l in r)if(r.hasOwnProperty(l)&&ut(r[l])&&!n[v(r[l])]){i=r[l];break}i&&(n[v(i)]=!0);function v(f){return f.dim+"_"+f.index}}function ut(e){return e&&e.type!=="category"&&e.type!=="time"&&qt(e)}function Xe(e,t){var a=e.getExtent(),n=a[0]+a[1];e.toGlobalCoord=e.dim==="x"?function(r){return r+t}:function(r){return n-r+t},e.toLocalCoord=e.dim==="x"?function(r){return r-t}:function(r){return n-r+t}}const je=$e;var W=ft();function Ye(e,t,a,n){var r=a.axis;if(!r.scale.isBlank()){var i=a.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),u=n.coordinateSystem.getRect(),l=r.getTicksCoords({tickModel:i,clamp:!0});if(l.length){var v=s.length,f=W(e).splitAreaColors,g=z(),h=0;if(f)for(var c=0;c<l.length;c++){var d=f.get(l[c].tickValue);if(d!=null){h=(d+(v-1)*c)%v;break}}var p=r.toGlobalCoord(l[0].coord),A=o.getAreaStyle();s=O(s)?s:[s];for(var c=1;c<l.length;c++){var C=r.toGlobalCoord(l[c].coord),x=void 0,y=void 0,b=void 0,S=void 0;r.isHorizontal()?(x=p,y=u.y,b=C-x,S=u.height,p=x+b):(x=u.x,y=p,b=u.width,S=C-y,p=y+S);var T=l[c-1].tickValue;T!=null&&g.set(T,h),t.add(new $({anid:T!=null?"area_"+T:null,shape:{x,y,width:b,height:S},style:P({fill:s[h]},A),autoBatch:!0,silent:!0})),h=(h+1)%v}W(e).splitAreaColors=g}}}function Ue(e){W(e).splitAreaColors=null}var Ke=["axisLine","axisTickLabel","axisName"],Je=["splitArea","splitLine","minorSplitLine"],St=function(e){L(t,e);function t(){var a=e!==null&&e.apply(this,arguments)||this;return a.type=t.type,a.axisPointerClass="CartesianAxisPointer",a}return t.prototype.render=function(a,n,r,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ee,this.group.add(this._axisGroup),!!a.get("show")){var s=a.getCoordSysModel(),u=ae(s,a),l=new re(a,ne({handleAutoShown:function(f){for(var g=s.coordinateSystem.getCartesians(),h=0;h<g.length;h++)if(V(g[h].getOtherAxis(a.axis).scale))return!0;return!1}},u));m(Ke,l.add,l),this._axisGroup.add(l.getGroup()),m(Je,function(f){a.get([f,"show"])&&Qe[f](this,this._axisGroup,a,s)},this);var v=i&&i.type==="changeAxisOrder"&&i.isInitSort;v||ie(o,this._axisGroup,a),e.prototype.render.call(this,a,n,r,i)}},t.prototype.remove=function(){Ue(this)},t.type="cartesianAxis",t}(oe),Qe={splitLine:function(e,t,a,n){var r=a.axis;if(!r.scale.isBlank()){var i=a.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color");s=O(s)?s:[s];for(var u=n.coordinateSystem.getRect(),l=r.isHorizontal(),v=0,f=r.getTicksCoords({tickModel:i}),g=[],h=[],c=o.getLineStyle(),d=0;d<f.length;d++){var p=r.toGlobalCoord(f[d].coord);l?(g[0]=p,g[1]=u.y,h[0]=p,h[1]=u.y+u.height):(g[0]=u.x,g[1]=p,h[0]=u.x+u.width,h[1]=p);var A=v++%s.length,C=f[d].tickValue,x=new tt({anid:C!=null?"line_"+f[d].tickValue:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:h[0],y2:h[1]},style:P({stroke:s[A]},c),silent:!0});et(x.shape,c.lineWidth),t.add(x)}}},minorSplitLine:function(e,t,a,n){var r=a.axis,i=a.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=n.coordinateSystem.getRect(),u=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var v=[],f=[],g=o.getLineStyle(),h=0;h<l.length;h++)for(var c=0;c<l[h].length;c++){var d=r.toGlobalCoord(l[h][c].coord);u?(v[0]=d,v[1]=s.y,f[0]=d,f[1]=s.y+s.height):(v[0]=s.x,v[1]=d,f[0]=s.x+s.width,f[1]=d);var p=new tt({anid:"minor_line_"+l[h][c].tickValue,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:f[0],y2:f[1]},style:g,silent:!0});et(p.shape,g.lineWidth),t.add(p)}},splitArea:function(e,t,a,n){Ye(e,t,a,n)}},Mt=function(e){L(t,e);function t(){var a=e!==null&&e.apply(this,arguments)||this;return a.type=t.type,a}return t.type="xAxis",t}(St),qe=function(e){L(t,e);function t(){var a=e!==null&&e.apply(this,arguments)||this;return a.type=Mt.type,a}return t.type="yAxis",t}(St),ta=function(e){L(t,e);function t(){var a=e!==null&&e.apply(this,arguments)||this;return a.type="grid",a}return t.prototype.render=function(a,n){this.group.removeAll(),a.get("show")&&this.group.add(new $({shape:a.coordinateSystem.getRect(),style:P({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(se),ct={offset:0};function ea(e){e.registerComponentView(ta),e.registerComponentModel(Oe),e.registerCoordinateSystem("cartesian2d",je),it(e,"x",H,ct),it(e,"y",H,ct),e.registerComponentView(Mt),e.registerComponentView(qe),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function ua(e){at(ea),at(le)}export{ia as a,sa as b,ra as c,we as d,Ie as e,la as f,na as g,oa as h,ua as i};
