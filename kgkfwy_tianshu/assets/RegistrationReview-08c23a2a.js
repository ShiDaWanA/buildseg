import{B as U}from"./BaseTitle-588acb84.js";import{d as z,r as p,D as M,H as P,l as v,c as a,e as $,h as e,f as F,w as t,F as A,o as G,i,g as m,E as H,a5 as I}from"./index-ab68adb5.js";const J=z({__name:"RegistrationReview",setup(S){const u=p(""),b=p([]),V=M(()=>b.value.filter(o=>!u.value||o.organization.toLowerCase().includes(u.value.toLowerCase())||o.contactPerson.toLowerCase().includes(u.value.toLowerCase()))),C=({row:o})=>o.status==2?"warning-row":o.status==1?"success-row":"";P(()=>{f()});const f=()=>{v.get("api/Registration/GetAll").then(o=>{b.value=o})},h=o=>{v.post("/api/Registration/Delete/"+o.id).then(()=>{f(),H({type:"success",message:"åˆ é™¤æˆåŠŸ"})})},d=p(!1),k=p();let r=p({id:"",status:0,comment:""});const x=o=>{d.value=!0,I(()=>{r.value={...o},console.log("ðŸš€ ~ file: RegistrationReview.vue:98 ~ nextTick ~ form.value:",r.value)})},y=()=>{v.post("api/Registration/update",r.value).then(()=>{d.value=!1,f()})};return(o,n)=>{const g=a("el-input"),R=a("el-divider"),s=a("el-table-column"),c=a("el-button"),D=a("el-popconfirm"),T=a("el-table"),_=a("el-radio"),B=a("el-radio-group"),w=a("el-form-item"),E=a("el-form"),L=a("el-dialog");return G(),$(A,null,[e(U,{title:"æ³¨å†Œç”³è¯·",icon:"icon-supplierfeatures"}),F("div",null,[e(g,{modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=l=>u.value=l),modelModifiers:{trim:!0},style:{width:"300px"},placeholder:"è¾“å…¥å…³é”®å­—æœç´¢",clearable:""},null,8,["modelValue"])]),e(R),e(T,{data:V.value,height:"calc(100vh - 223px)","row-class-name":C},{default:t(()=>[e(s,{type:"index",width:"50"}),e(s,{prop:"organization",label:"æœºæž„åç§°"}),e(s,{prop:"contactPerson",label:"è”ç³»äºº"}),e(s,{prop:"contactPhone",label:"è”ç³»ç”µè¯"}),e(s,{prop:"organizationType",label:"æœºæž„ç±»åž‹"}),e(s,{prop:"industryCategory",label:"è¡Œä¸šç±»åˆ«"}),e(s,{prop:"remark",label:"å¤‡æ³¨"}),e(s,{prop:"created",label:"ç”³è¯·æ—¥æœŸ","show-overflow-tooltip":""}),e(s,{width:"150","class-name":"hover-to-show"},{default:t(l=>[e(c,{type:"primary",link:"",onClick:N=>x(l.row)},{default:t(()=>[i("ç¼–è¾‘")]),_:2},1032,["onClick"]),e(D,{width:"170","confirm-button-text":"åˆ é™¤","cancel-button-text":"å–æ¶ˆ",title:"ç¡®è®¤åˆ é™¤æ­¤ç”³è¯·ä¹ˆ?",onConfirm:N=>h(l.row)},{reference:t(()=>[e(c,{type:"danger",link:""},{default:t(()=>[i("åˆ é™¤")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),e(L,{title:"å®¡æ ¸",modelValue:d.value,"onUpdate:modelValue":n[4]||(n[4]=l=>d.value=l),"close-on-click-modal":!1,width:"500px"},{footer:t(()=>[e(c,{onClick:n[3]||(n[3]=l=>d.value=!1)},{default:t(()=>[i("å–æ¶ˆ")]),_:1}),e(c,{type:"primary",onClick:y},{default:t(()=>[i("æäº¤")]),_:1})]),default:t(()=>[e(E,{model:m(r),ref_key:"formRef",ref:k,"label-position":"top"},{default:t(()=>[e(w,{label:"çŠ¶æ€",prop:"status"},{default:t(()=>[e(B,{modelValue:m(r).status,"onUpdate:modelValue":n[1]||(n[1]=l=>m(r).status=l)},{default:t(()=>[e(_,{label:0},{default:t(()=>[i("å¾…å¤„ç†")]),_:1}),e(_,{label:1},{default:t(()=>[i("å·²é€šè¿‡")]),_:1}),e(_,{label:2},{default:t(()=>[i("æ‹’ç»")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(w,{label:"å¤‡æ³¨",prop:"comment"},{default:t(()=>[e(g,{modelValue:m(r).comment,"onUpdate:modelValue":n[2]||(n[2]=l=>m(r).comment=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}});export{J as default};
