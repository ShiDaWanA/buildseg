import{_ as B,G as J,f as nt,g as se,h as ue,l as ce,j as et,s as ve,k as qt,m as It,n as he,Z as fe,o as ot,p as At,t as mt,q as it,r as Gt,v as ge,w as pe,x as me,y as ct,z as lt,A as Ct,B as q,P as ye,D as wt,E as Jt,F as Ot,H as Tt,I as yt,J as Rt,K as Et,L as vt,M as Nt,N as Y,O as st,Q as de,R as Se,T as W,U as be,V as zt,W as _e,X as De,Y as Pe,$ as Lt,a0 as jt,a1 as Ie,a2 as Ae,a3 as Qt,a4 as Ce,a5 as Le,a6 as ke,C as Ge,a7 as ut,a8 as Vt,a9 as we,aa as Oe,ab as Ft,ac as Te,ad as Re,ae as tt,e as Ee,af as Ne,ag as K,ah as ze,ai as Ve,aj as Fe,ak as Be,al as We,am as xe,an as He,u as dt}from"./index.esm.min-90f1887f.js";import{c as $e,g as Yt,a as Ue,b as Xe,d as Ze,e as Me,f as Ke}from"./install-7ec1e6c2.js";var qe=function(n){B(a,n);function a(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=a.type,t.hasSymbolVisual=!0,t}return a.prototype.getInitialData=function(t){return $e(null,this,{useEncodeDefaulter:!0})},a.prototype.getLegendIcon=function(t){var e=new J,o=nt("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(o),o.setStyle(t.lineStyle);var r=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),s=r==="none"?"circle":r,u=t.itemHeight*.8,l=nt(s,(t.itemWidth-u)/2,(t.itemHeight-u)/2,u,u,t.itemStyle.fill);e.add(l),l.setStyle(t.itemStyle);var h=t.iconRotate==="inherit"?i:t.iconRotate||0;return l.rotation=h*Math.PI/180,l.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),e},a.type="series.line",a.dependencies=["grid","polar"],a.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},a}(se);const Je=qe;var je=function(n){B(a,n);function a(t,e,o,r){var i=n.call(this)||this;return i.updateData(t,e,o,r),i}return a.prototype._createSymbol=function(t,e,o,r,i){this.removeAll();var s=nt(t,-1,-1,2,2,null,i);s.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),s.drift=Qe,this._symbolType=t,this.add(s)},a.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},a.prototype.getSymbolType=function(){return this._symbolType},a.prototype.getSymbolPath=function(){return this.childAt(0)},a.prototype.highlight=function(){ue(this.childAt(0))},a.prototype.downplay=function(){ce(this.childAt(0))},a.prototype.setZ=function(t,e){var o=this.childAt(0);o.zlevel=t,o.z=e},a.prototype.setDraggable=function(t,e){var o=this.childAt(0);o.draggable=t,o.cursor=!e&&t?"move":o.cursor},a.prototype.updateData=function(t,e,o,r){this.silent=!1;var i=t.getItemVisual(e,"symbol")||"circle",s=t.hostModel,u=a.getSymbolSize(t,e),l=i!==this._symbolType,h=r&&r.disableAnimation;if(l){var c=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(i,t,e,u,c)}else{var f=this.childAt(0);f.silent=!1;var v={scaleX:u[0]/2,scaleY:u[1]/2};h?f.attr(v):et(f,v,s,e),ve(f)}if(this._updateCommon(t,e,u,o,r),l){var f=this.childAt(0);if(!h){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,qt(f,v,s,e)}}h&&this.childAt(0).stopAnimation("leave")},a.prototype._updateCommon=function(t,e,o,r,i){var s=this.childAt(0),u=t.hostModel,l,h,c,f,v,m,g,d,p;if(r&&(l=r.emphasisItemStyle,h=r.blurItemStyle,c=r.selectItemStyle,f=r.focus,v=r.blurScope,g=r.labelStatesModels,d=r.hoverScale,p=r.cursorStyle,m=r.emphasisDisabled),!r||t.hasItemOption){var y=r&&r.itemModel?r.itemModel:t.getItemModel(e),S=y.getModel("emphasis");l=S.getModel("itemStyle").getItemStyle(),c=y.getModel(["select","itemStyle"]).getItemStyle(),h=y.getModel(["blur","itemStyle"]).getItemStyle(),f=S.get("focus"),v=S.get("blurScope"),m=S.get("disabled"),g=It(y),d=S.getShallow("scale"),p=y.getShallow("cursor")}var P=t.getItemVisual(e,"symbolRotate");s.attr("rotation",(P||0)*Math.PI/180||0);var D=he(t.getItemVisual(e,"symbolOffset"),o);D&&(s.x=D[0],s.y=D[1]),p&&s.attr("cursor",p);var b=t.getItemVisual(e,"style"),_=b.fill;if(s instanceof fe){var A=s.style;s.useStyle(ot({image:A.image,x:A.x,y:A.y,width:A.width,height:A.height},b))}else s.__isEmptyBrush?s.useStyle(ot({},b)):s.useStyle(b),s.style.decal=null,s.setColor(_,i&&i.symbolInnerColor),s.style.strokeNoScale=!0;var L=t.getItemVisual(e,"liftZ"),C=this._z2;L!=null?C==null&&(this._z2=s.z2,s.z2+=L):C!=null&&(s.z2=C,this._z2=null);var k=i&&i.useNameLabel;At(s,g,{labelFetcher:u,labelDataIndex:e,defaultText:I,inheritColor:_,defaultOpacity:b.opacity});function I(R){return k?t.getName(R):Yt(t,R)}this._sizeX=o[0]/2,this._sizeY=o[1]/2;var G=s.ensureState("emphasis");G.style=l,s.ensureState("select").style=c,s.ensureState("blur").style=h;var O=d==null||d===!0?Math.max(1.1,3/this._sizeY):isFinite(d)&&d>0?+d:1;G.scaleX=this._sizeX*O,G.scaleY=this._sizeY*O,this.setSymbolScale(1),mt(this,f,v,m)},a.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},a.prototype.fadeOut=function(t,e,o){var r=this.childAt(0),i=it(this).dataIndex,s=o&&o.animation;if(this.silent=r.silent=!0,o&&o.fadeLabel){var u=r.getTextContent();u&&Gt(u,{style:{opacity:0}},e,{dataIndex:i,removeOpt:s,cb:function(){r.removeTextContent()}})}else r.removeTextContent();Gt(r,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:i,cb:t,removeOpt:s})},a.getSymbolSize=function(t,e){return ge(t.getItemVisual(e,"symbolSize"))},a}(J);function Qe(n,a){this.parent.drift(n,a)}const kt=je;function ht(n,a,t,e){return a&&!isNaN(a[0])&&!isNaN(a[1])&&!(e.isIgnore&&e.isIgnore(t))&&!(e.clipShape&&!e.clipShape.contain(a[0],a[1]))&&n.getItemVisual(t,"symbol")!=="none"}function Bt(n){return n!=null&&!me(n)&&(n={isIgnore:n}),n||{}}function Wt(n){var a=n.hostModel,t=a.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:a.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:a.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:It(a),cursorStyle:a.get("cursor")}}var Ye=function(){function n(a){this.group=new J,this._SymbolCtor=a||kt}return n.prototype.updateData=function(a,t){this._progressiveEls=null,t=Bt(t);var e=this.group,o=a.hostModel,r=this._data,i=this._SymbolCtor,s=t.disableAnimation,u=Wt(a),l={disableAnimation:s},h=t.getSymbolPoint||function(c){return a.getItemLayout(c)};r||e.removeAll(),a.diff(r).add(function(c){var f=h(c);if(ht(a,f,c,t)){var v=new i(a,c,u,l);v.setPosition(f),a.setItemGraphicEl(c,v),e.add(v)}}).update(function(c,f){var v=r.getItemGraphicEl(f),m=h(c);if(!ht(a,m,c,t)){e.remove(v);return}var g=a.getItemVisual(c,"symbol")||"circle",d=v&&v.getSymbolType&&v.getSymbolType();if(!v||d&&d!==g)e.remove(v),v=new i(a,c,u,l),v.setPosition(m);else{v.updateData(a,c,u,l);var p={x:m[0],y:m[1]};s?v.attr(p):et(v,p,o)}e.add(v),a.setItemGraphicEl(c,v)}).remove(function(c){var f=r.getItemGraphicEl(c);f&&f.fadeOut(function(){e.remove(f)},o)}).execute(),this._getSymbolPoint=h,this._data=a},n.prototype.updateLayout=function(){var a=this,t=this._data;t&&t.eachItemGraphicEl(function(e,o){var r=a._getSymbolPoint(o);e.setPosition(r),e.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(a){this._seriesScope=Wt(a),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(a,t,e){this._progressiveEls=[],e=Bt(e);function o(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var r=a.start;r<a.end;r++){var i=t.getItemLayout(r);if(ht(t,i,r,e)){var s=new this._SymbolCtor(t,r,this._seriesScope);s.traverse(o),s.setPosition(i),this.group.add(s),t.setItemGraphicEl(r,s),this._progressiveEls.push(s)}}},n.prototype.eachRendered=function(a){pe(this._progressiveEls||this.group,a)},n.prototype.remove=function(a){var t=this.group,e=this._data;e&&a?e.eachItemGraphicEl(function(o){o.fadeOut(function(){t.remove(o)},e.hostModel)}):t.removeAll()},n}();const ta=Ye;function te(n,a,t){var e=n.getBaseAxis(),o=n.getOtherAxis(e),r=ea(o,t),i=e.dim,s=o.dim,u=a.mapDimension(s),l=a.mapDimension(i),h=s==="x"||s==="radius"?1:0,c=ct(n.dimensions,function(m){return a.mapDimension(m)}),f=!1,v=a.getCalculationInfo("stackResultDimension");return lt(a,c[0])&&(f=!0,c[0]=v),lt(a,c[1])&&(f=!0,c[1]=v),{dataDimsForPoint:c,valueStart:r,valueAxisDim:s,baseAxisDim:i,stacked:!!f,valueDim:u,baseDim:l,baseDataOffset:h,stackedOverDimension:a.getCalculationInfo("stackedOverDimension")}}function ea(n,a){var t=0,e=n.scale.getExtent();return a==="start"?t=e[0]:a==="end"?t=e[1]:Ct(a)&&!isNaN(a)?t=a:e[0]>0?t=e[0]:e[1]<0&&(t=e[1]),t}function ee(n,a,t,e){var o=NaN;n.stacked&&(o=t.get(t.getCalculationInfo("stackedOverDimension"),e)),isNaN(o)&&(o=n.valueStart);var r=n.baseDataOffset,i=[];return i[r]=t.get(n.baseDim,e),i[1-r]=o,a.dataToPoint(i)}function aa(n,a){var t=[];return a.diff(n).add(function(e){t.push({cmd:"+",idx:e})}).update(function(e,o){t.push({cmd:"=",idx:o,idx1:e})}).remove(function(e){t.push({cmd:"-",idx:e})}).execute(),t}function ra(n,a,t,e,o,r,i,s){for(var u=aa(n,a),l=[],h=[],c=[],f=[],v=[],m=[],g=[],d=te(o,a,i),p=n.getLayout("points")||[],y=a.getLayout("points")||[],S=0;S<u.length;S++){var P=u[S],D=!0,b=void 0,_=void 0;switch(P.cmd){case"=":b=P.idx*2,_=P.idx1*2;var A=p[b],L=p[b+1],C=y[_],k=y[_+1];(isNaN(A)||isNaN(L))&&(A=C,L=k),l.push(A,L),h.push(C,k),c.push(t[b],t[b+1]),f.push(e[_],e[_+1]),g.push(a.getRawIndex(P.idx1));break;case"+":var I=P.idx,G=d.dataDimsForPoint,O=o.dataToPoint([a.get(G[0],I),a.get(G[1],I)]);_=I*2,l.push(O[0],O[1]),h.push(y[_],y[_+1]);var R=ee(d,o,a,I);c.push(R[0],R[1]),f.push(e[_],e[_+1]),g.push(a.getRawIndex(I));break;case"-":D=!1}D&&(v.push(P),m.push(m.length))}m.sort(function(at,E){return g[at]-g[E]});for(var N=l.length,F=q(N),T=q(N),w=q(N),x=q(N),H=[],S=0;S<m.length;S++){var j=m[S],z=S*2,V=j*2;F[z]=l[V],F[z+1]=l[V+1],T[z]=h[V],T[z+1]=h[V+1],w[z]=c[V],w[z+1]=c[V+1],x[z]=f[V],x[z+1]=f[V+1],H[S]=v[j]}return{current:F,next:T,stackedOnCurrent:w,stackedOnNext:x,status:H}}var $=Math.min,U=Math.max;function Z(n,a){return isNaN(n)||isNaN(a)}function St(n,a,t,e,o,r,i,s,u){for(var l,h,c,f,v,m,g=t,d=0;d<e;d++){var p=a[g*2],y=a[g*2+1];if(g>=o||g<0)break;if(Z(p,y)){if(u){g+=r;continue}break}if(g===t)n[r>0?"moveTo":"lineTo"](p,y),c=p,f=y;else{var S=p-l,P=y-h;if(S*S+P*P<.5){g+=r;continue}if(i>0){for(var D=g+r,b=a[D*2],_=a[D*2+1];b===p&&_===y&&d<e;)d++,D+=r,g+=r,b=a[D*2],_=a[D*2+1],p=a[g*2],y=a[g*2+1],S=p-l,P=y-h;var A=d+1;if(u)for(;Z(b,_)&&A<e;)A++,D+=r,b=a[D*2],_=a[D*2+1];var L=.5,C=0,k=0,I=void 0,G=void 0;if(A>=e||Z(b,_))v=p,m=y;else{C=b-l,k=_-h;var O=p-l,R=b-p,N=y-h,F=_-y,T=void 0,w=void 0;if(s==="x"){T=Math.abs(O),w=Math.abs(R);var x=C>0?1:-1;v=p-x*T*i,m=y,I=p+x*w*i,G=y}else if(s==="y"){T=Math.abs(N),w=Math.abs(F);var H=k>0?1:-1;v=p,m=y-H*T*i,I=p,G=y+H*w*i}else T=Math.sqrt(O*O+N*N),w=Math.sqrt(R*R+F*F),L=w/(w+T),v=p-C*i*(1-L),m=y-k*i*(1-L),I=p+C*i*L,G=y+k*i*L,I=$(I,U(b,p)),G=$(G,U(_,y)),I=U(I,$(b,p)),G=U(G,$(_,y)),C=I-p,k=G-y,v=p-C*T/w,m=y-k*T/w,v=$(v,U(l,p)),m=$(m,U(h,y)),v=U(v,$(l,p)),m=U(m,$(h,y)),C=p-v,k=y-m,I=p+C*w/T,G=y+k*w/T}n.bezierCurveTo(c,f,v,m,p,y),c=I,f=G}else n.lineTo(p,y)}l=p,h=y,g+=r}return d}var ae=function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n}(),ia=function(n){B(a,n);function a(t){var e=n.call(this,t)||this;return e.type="ec-polyline",e}return a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new ae},a.prototype.buildPath=function(t,e){var o=e.points,r=0,i=o.length/2;if(e.connectNulls){for(;i>0&&Z(o[i*2-2],o[i*2-1]);i--);for(;r<i&&Z(o[r*2],o[r*2+1]);r++);}for(;r<i;)r+=St(t,o,r,i,i,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},a.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var o=this.path,r=o.data,i=ye.CMD,s,u,l=e==="x",h=[],c=0;c<r.length;){var f=r[c++],v=void 0,m=void 0,g=void 0,d=void 0,p=void 0,y=void 0,S=void 0;switch(f){case i.M:s=r[c++],u=r[c++];break;case i.L:if(v=r[c++],m=r[c++],S=l?(t-s)/(v-s):(t-u)/(m-u),S<=1&&S>=0){var P=l?(m-u)*S+u:(v-s)*S+s;return l?[t,P]:[P,t]}s=v,u=m;break;case i.C:v=r[c++],m=r[c++],g=r[c++],d=r[c++],p=r[c++],y=r[c++];var D=l?wt(s,v,g,p,t,h):wt(u,m,d,y,t,h);if(D>0)for(var b=0;b<D;b++){var _=h[b];if(_<=1&&_>=0){var P=l?Ot(u,m,d,y,_):Ot(s,v,g,p,_);return l?[t,P]:[P,t]}}s=p,u=y;break}}},a}(Jt),na=function(n){B(a,n);function a(){return n!==null&&n.apply(this,arguments)||this}return a}(ae),oa=function(n){B(a,n);function a(t){var e=n.call(this,t)||this;return e.type="ec-polygon",e}return a.prototype.getDefaultShape=function(){return new na},a.prototype.buildPath=function(t,e){var o=e.points,r=e.stackedOnPoints,i=0,s=o.length/2,u=e.smoothMonotone;if(e.connectNulls){for(;s>0&&Z(o[s*2-2],o[s*2-1]);s--);for(;i<s&&Z(o[i*2],o[i*2+1]);i++);}for(;i<s;){var l=St(t,o,i,s,s,1,e.smooth,u,e.connectNulls);St(t,r,i+l-1,l,s,-1,e.stackedOnSmooth,u,e.connectNulls),i+=l+1,t.closePath()}},a}(Jt);function xt(n,a){if(n.length===a.length){for(var t=0;t<n.length;t++)if(n[t]!==a[t])return;return!0}}function Ht(n){for(var a=1/0,t=1/0,e=-1/0,o=-1/0,r=0;r<n.length;){var i=n[r++],s=n[r++];isNaN(i)||(a=Math.min(i,a),e=Math.max(i,e)),isNaN(s)||(t=Math.min(s,t),o=Math.max(s,o))}return[[a,t],[e,o]]}function $t(n,a){var t=Ht(n),e=t[0],o=t[1],r=Ht(a),i=r[0],s=r[1];return Math.max(Math.abs(e[0]-i[0]),Math.abs(e[1]-i[1]),Math.abs(o[0]-s[0]),Math.abs(o[1]-s[1]))}function Ut(n){return Ct(n)?n:n?.5:0}function la(n,a,t){if(!t.valueDim)return[];for(var e=a.count(),o=q(e*2),r=0;r<e;r++){var i=ee(t,n,a,r);o[r*2]=i[0],o[r*2+1]=i[1]}return o}function X(n,a,t,e){var o=a.getBaseAxis(),r=o.dim==="x"||o.dim==="radius"?0:1,i=[],s=0,u=[],l=[],h=[],c=[];if(e){for(s=0;s<n.length;s+=2)!isNaN(n[s])&&!isNaN(n[s+1])&&c.push(n[s],n[s+1]);n=c}for(s=0;s<n.length-2;s+=2)switch(h[0]=n[s+2],h[1]=n[s+3],l[0]=n[s],l[1]=n[s+1],i.push(l[0],l[1]),t){case"end":u[r]=h[r],u[1-r]=l[1-r],i.push(u[0],u[1]);break;case"middle":var f=(l[r]+h[r])/2,v=[];u[r]=v[r]=f,u[1-r]=l[1-r],v[1-r]=h[1-r],i.push(u[0],u[1]),i.push(v[0],v[1]);break;default:u[r]=l[r],u[1-r]=h[1-r],i.push(u[0],u[1])}return i.push(n[s++],n[s++]),i}function sa(n,a){var t=[],e=n.length,o,r;function i(h,c,f){var v=h.coord,m=(f-v)/(c.coord-v),g=_e(m,[h.color,c.color]);return{coord:f,color:g}}for(var s=0;s<e;s++){var u=n[s],l=u.coord;if(l<0)o=u;else if(l>a){r?t.push(i(r,u,a)):o&&t.push(i(o,u,0),i(o,u,a));break}else o&&(t.push(i(o,u,0)),o=null),t.push(u),r=u}return t}function ua(n,a,t){var e=n.getVisual("visualMeta");if(!(!e||!e.length||!n.count())&&a.type==="cartesian2d"){for(var o,r,i=e.length-1;i>=0;i--){var s=n.getDimensionInfo(e[i].dimension);if(o=s&&s.coordDim,o==="x"||o==="y"){r=e[i];break}}if(r){var u=a.getAxis(o),l=ct(r.stops,function(S){return{coord:u.toGlobalCoord(u.dataToCoord(S.value)),color:S.color}}),h=l.length,c=r.outerColors.slice();h&&l[0].coord>l[h-1].coord&&(l.reverse(),c.reverse());var f=sa(l,o==="x"?t.getWidth():t.getHeight()),v=f.length;if(!v&&h)return l[0].coord<0?c[1]?c[1]:l[h-1].color:c[0]?c[0]:l[0].color;var m=10,g=f[0].coord-m,d=f[v-1].coord+m,p=d-g;if(p<.001)return"transparent";W(f,function(S){S.offset=(S.coord-g)/p}),f.push({offset:v?f[v-1].offset:.5,color:c[1]||"transparent"}),f.unshift({offset:v?f[0].offset:.5,color:c[0]||"transparent"});var y=new be(0,0,0,0,f,!0);return y[o]=g,y[o+"2"]=d,y}}}function ca(n,a,t){var e=n.get("showAllSymbol"),o=e==="auto";if(!(e&&!o)){var r=t.getAxesByScale("ordinal")[0];if(r&&!(o&&va(r,a))){var i=a.mapDimension(r.dim),s={};return W(r.getViewLabels(),function(u){var l=r.scale.getRawOrdinalNumber(u.tickValue);s[l]=1}),function(u){return!s.hasOwnProperty(a.get(i,u))}}}}function va(n,a){var t=n.getExtent(),e=Math.abs(t[1]-t[0])/n.scale.count();isNaN(e)&&(e=0);for(var o=a.count(),r=Math.max(1,Math.round(o/5)),i=0;i<o;i+=r)if(kt.getSymbolSize(a,i)[n.isHorizontal()?1:0]*1.5>e)return!1;return!0}function ha(n,a){return isNaN(n)||isNaN(a)}function fa(n){for(var a=n.length/2;a>0&&ha(n[a*2-2],n[a*2-1]);a--);return a-1}function Xt(n,a){return[n[a*2],n[a*2+1]]}function ga(n,a,t){for(var e=n.length/2,o=t==="x"?0:1,r,i,s=0,u=-1,l=0;l<e;l++)if(i=n[l*2+o],!(isNaN(i)||isNaN(n[l*2+1-o]))){if(l===0){r=i;continue}if(r<=a&&i>=a||r>=a&&i<=a){u=l;break}s=l,r=i}return{range:[s,u],t:(a-r)/(i-r)}}function re(n){if(n.get(["endLabel","show"]))return!0;for(var a=0;a<zt.length;a++)if(n.get([zt[a],"endLabel","show"]))return!0;return!1}function ft(n,a,t,e){if(Xe(a,"cartesian2d")){var o=e.getModel("endLabel"),r=o.get("valueAnimation"),i=e.getData(),s={lastFrameIndex:0},u=re(e)?function(v,m){n._endLabelOnDuring(v,m,i,s,r,o,a)}:null,l=a.getBaseAxis().isHorizontal(),h=Ze(a,t,e,function(){var v=n._endLabel;v&&t&&s.originalX!=null&&v.attr({x:s.originalX,y:s.originalY})},u);if(!e.get("clip",!0)){var c=h.shape,f=Math.max(c.width,c.height);l?(c.y-=f,c.height+=f*2):(c.x-=f,c.width+=f*2)}return u&&u(1,h),h}else return Me(a,t,e)}function pa(n,a){var t=a.getBaseAxis(),e=t.isHorizontal(),o=t.inverse,r=e?o?"right":"left":"center",i=e?"middle":o?"top":"bottom";return{normal:{align:n.get("align")||r,verticalAlign:n.get("verticalAlign")||i}}}var ma=function(n){B(a,n);function a(){return n!==null&&n.apply(this,arguments)||this}return a.prototype.init=function(){var t=new J,e=new ta;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},a.prototype.render=function(t,e,o){var r=this,i=t.coordinateSystem,s=this.group,u=t.getData(),l=t.getModel("lineStyle"),h=t.getModel("areaStyle"),c=u.getLayout("points")||[],f=i.type==="polar",v=this._coordSys,m=this._symbolDraw,g=this._polyline,d=this._polygon,p=this._lineGroup,y=!e.ssr&&t.isAnimationEnabled(),S=!h.isEmpty(),P=h.get("origin"),D=te(i,u,P),b=S&&la(i,u,D),_=t.get("showSymbol"),A=t.get("connectNulls"),L=_&&!f&&ca(t,u,i),C=this._data;C&&C.eachItemGraphicEl(function(E,le){E.__temp&&(s.remove(E),C.setItemGraphicEl(le,null))}),_||m.remove(),s.add(p);var k=f?!1:t.get("step"),I;i&&i.getArea&&t.get("clip",!0)&&(I=i.getArea(),I.width!=null?(I.x-=.1,I.y-=.1,I.width+=.2,I.height+=.2):I.r0&&(I.r0-=.5,I.r+=.5)),this._clipShapeForSymbol=I;var G=ua(u,i,o)||u.getVisual("style")[u.getVisual("drawType")];if(!(g&&v.type===i.type&&k===this._step))_&&m.updateData(u,{isIgnore:L,clipShape:I,disableAnimation:!0,getSymbolPoint:function(E){return[c[E*2],c[E*2+1]]}}),y&&this._initSymbolLabelAnimation(u,i,I),k&&(c=X(c,i,k,A),b&&(b=X(b,i,k,A))),g=this._newPolyline(c),S?d=this._newPolygon(c,b):d&&(p.remove(d),d=this._polygon=null),f||this._initOrUpdateEndLabel(t,i,Tt(G)),p.setClipPath(ft(this,i,!0,t));else{S&&!d?d=this._newPolygon(c,b):d&&!S&&(p.remove(d),d=this._polygon=null),f||this._initOrUpdateEndLabel(t,i,Tt(G));var O=p.getClipPath();if(O){var R=ft(this,i,!1,t);qt(O,{shape:R.shape},t)}else p.setClipPath(ft(this,i,!0,t));_&&m.updateData(u,{isIgnore:L,clipShape:I,disableAnimation:!0,getSymbolPoint:function(E){return[c[E*2],c[E*2+1]]}}),(!xt(this._stackedOnPoints,b)||!xt(this._points,c))&&(y?this._doUpdateAnimation(u,b,i,o,k,P,A):(k&&(c=X(c,i,k,A),b&&(b=X(b,i,k,A))),g.setShape({points:c}),d&&d.setShape({points:c,stackedOnPoints:b})))}var N=t.getModel("emphasis"),F=N.get("focus"),T=N.get("blurScope"),w=N.get("disabled");if(g.useStyle(yt(l.getLineStyle(),{fill:"none",stroke:G,lineJoin:"bevel"})),Rt(g,t,"lineStyle"),g.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var x=g.getState("emphasis").style;x.lineWidth=+g.style.lineWidth+1}it(g).seriesIndex=t.seriesIndex,mt(g,F,T,w);var H=Ut(t.get("smooth")),j=t.get("smoothMonotone");if(g.setShape({smooth:H,smoothMonotone:j,connectNulls:A}),d){var z=u.getCalculationInfo("stackedOnSeries"),V=0;d.useStyle(yt(h.getAreaStyle(),{fill:G,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),z&&(V=Ut(z.get("smooth"))),d.setShape({smooth:H,stackedOnSmooth:V,smoothMonotone:j,connectNulls:A}),Rt(d,t,"areaStyle"),it(d).seriesIndex=t.seriesIndex,mt(d,F,T,w)}var at=function(E){r._changePolyState(E)};u.eachItemGraphicEl(function(E){E&&(E.onHoverStateChange=at)}),this._polyline.onHoverStateChange=at,this._data=u,this._coordSys=i,this._stackedOnPoints=b,this._points=c,this._step=k,this._valueOrigin=P,t.get("triggerLineEvent")&&(this.packEventData(t,g),d&&this.packEventData(t,d))},a.prototype.packEventData=function(t,e){it(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},a.prototype.highlight=function(t,e,o,r){var i=t.getData(),s=Et(i,r);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var u=i.getLayout("points"),l=i.getItemGraphicEl(s);if(!l){var h=u[s*2],c=u[s*2+1];if(isNaN(h)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,c))return;var f=t.get("zlevel")||0,v=t.get("z")||0;l=new kt(i,s),l.x=h,l.y=c,l.setZ(f,v);var m=l.getSymbolPath().getTextContent();m&&(m.zlevel=f,m.z=v,m.z2=this._polyline.z2+1),l.__temp=!0,i.setItemGraphicEl(s,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else vt.prototype.highlight.call(this,t,e,o,r)},a.prototype.downplay=function(t,e,o,r){var i=t.getData(),s=Et(i,r);if(this._changePolyState("normal"),s!=null&&s>=0){var u=i.getItemGraphicEl(s);u&&(u.__temp?(i.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else vt.prototype.downplay.call(this,t,e,o,r)},a.prototype._changePolyState=function(t){var e=this._polygon;Nt(this._polyline,t),e&&Nt(e,t)},a.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new ia({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},a.prototype._newPolygon=function(t,e){var o=this._polygon;return o&&this._lineGroup.remove(o),o=new oa({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(o),this._polygon=o,o},a.prototype._initSymbolLabelAnimation=function(t,e,o){var r,i,s=e.getBaseAxis(),u=s.inverse;e.type==="cartesian2d"?(r=s.isHorizontal(),i=!1):e.type==="polar"&&(r=s.dim==="angle",i=!0);var l=t.hostModel,h=l.get("animationDuration");Y(h)&&(h=h(null));var c=l.get("animationDelay")||0,f=Y(c)?c(null):c;t.eachItemGraphicEl(function(v,m){var g=v;if(g){var d=[v.x,v.y],p=void 0,y=void 0,S=void 0;if(o)if(i){var P=o,D=e.pointToCoord(d);r?(p=P.startAngle,y=P.endAngle,S=-D[1]/180*Math.PI):(p=P.r0,y=P.r,S=D[0])}else{var b=o;r?(p=b.x,y=b.x+b.width,S=v.x):(p=b.y+b.height,y=b.y,S=v.y)}var _=y===p?0:(S-p)/(y-p);u&&(_=1-_);var A=Y(c)?c(m):h*_+f,L=g.getSymbolPath(),C=L.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:A}),C&&C.animateFrom({style:{opacity:0}},{duration:300,delay:A}),L.disableLabelAnimation=!0}})},a.prototype._initOrUpdateEndLabel=function(t,e,o){var r=t.getModel("endLabel");if(re(t)){var i=t.getData(),s=this._polyline,u=i.getLayout("points");if(!u){s.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new st({z2:200}),l.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var h=fa(u);h>=0&&(At(s,It(t,"endLabel"),{inheritColor:o,labelFetcher:t,labelDataIndex:h,defaultText:function(c,f,v){return v!=null?Ue(i,v):Yt(i,c)},enableTextSetter:!0},pa(r,e)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},a.prototype._endLabelOnDuring=function(t,e,o,r,i,s,u){var l=this._endLabel,h=this._polyline;if(l){t<1&&r.originalX==null&&(r.originalX=l.x,r.originalY=l.y);var c=o.getLayout("points"),f=o.hostModel,v=f.get("connectNulls"),m=s.get("precision"),g=s.get("distance")||0,d=u.getBaseAxis(),p=d.isHorizontal(),y=d.inverse,S=e.shape,P=y?p?S.x:S.y+S.height:p?S.x+S.width:S.y,D=(p?g:0)*(y?-1:1),b=(p?0:-g)*(y?-1:1),_=p?"x":"y",A=ga(c,P,_),L=A.range,C=L[1]-L[0],k=void 0;if(C>=1){if(C>1&&!v){var I=Xt(c,L[0]);l.attr({x:I[0]+D,y:I[1]+b}),i&&(k=f.getRawValue(L[0]))}else{var I=h.getPointOn(P,_);I&&l.attr({x:I[0]+D,y:I[1]+b});var G=f.getRawValue(L[0]),O=f.getRawValue(L[1]);i&&(k=de(o,m,G,O,A.t))}r.lastFrameIndex=L[0]}else{var R=t===1||r.lastFrameIndex>0?L[0]:0,I=Xt(c,R);i&&(k=f.getRawValue(R)),l.attr({x:I[0]+D,y:I[1]+b})}i&&Se(l).setLabelText(k)}},a.prototype._doUpdateAnimation=function(t,e,o,r,i,s,u){var l=this._polyline,h=this._polygon,c=t.hostModel,f=ra(this._data,t,this._stackedOnPoints,e,this._coordSys,o,this._valueOrigin),v=f.current,m=f.stackedOnCurrent,g=f.next,d=f.stackedOnNext;if(i&&(v=X(f.current,o,i,u),m=X(f.stackedOnCurrent,o,i,u),g=X(f.next,o,i,u),d=X(f.stackedOnNext,o,i,u)),$t(v,g)>3e3||h&&$t(m,d)>3e3){l.stopAnimation(),l.setShape({points:g}),h&&(h.stopAnimation(),h.setShape({points:g,stackedOnPoints:d}));return}l.shape.__points=f.current,l.shape.points=v;var p={shape:{points:g}};f.current!==v&&(p.shape.__points=f.next),l.stopAnimation(),et(l,p,c),h&&(h.setShape({points:v,stackedOnPoints:m}),h.stopAnimation(),et(h,{shape:{stackedOnPoints:d}},c),l.shape.points!==h.shape.points&&(h.shape.points=l.shape.points));for(var y=[],S=f.status,P=0;P<S.length;P++){var D=S[P].cmd;if(D==="="){var b=t.getItemGraphicEl(S[P].idx1);b&&y.push({el:b,ptIdx:P})}}l.animators&&l.animators.length&&l.animators[0].during(function(){h&&h.dirtyShape();for(var _=l.shape.__points,A=0;A<y.length;A++){var L=y[A].el,C=y[A].ptIdx*2;L.x=_[C],L.y=_[C+1],L.markRedraw()}})},a.prototype.remove=function(t){var e=this.group,o=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),o&&o.eachItemGraphicEl(function(r,i){r.__temp&&(e.remove(r),o.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},a.type="line",a}(vt);const ya=ma;function da(n,a){return{seriesType:n,plan:De(),reset:function(t){var e=t.getData(),o=t.coordinateSystem,r=t.pipelineContext,i=a||r.large;if(o){var s=ct(o.dimensions,function(v){return e.mapDimension(v)}).slice(0,2),u=s.length,l=e.getCalculationInfo("stackResultDimension");lt(e,s[0])&&(s[0]=l),lt(e,s[1])&&(s[1]=l);var h=e.getStore(),c=e.getDimensionIndex(s[0]),f=e.getDimensionIndex(s[1]);return u&&{progress:function(v,m){for(var g=v.end-v.start,d=i&&q(g*u),p=[],y=[],S=v.start,P=0;S<v.end;S++){var D=void 0;if(u===1){var b=h.get(c,S);D=o.dataToPoint(b,null,y)}else p[0]=h.get(c,S),p[1]=h.get(f,S),D=o.dataToPoint(p,null,y);i?(d[P++]=D[0],d[P++]=D[1]):m.setItemLayout(S,D.slice())}i&&m.setLayout("points",d)}}}}}}function Na(n){n.registerChartView(ya),n.registerSeriesModel(Je),n.registerLayout(da("line",!0)),n.registerVisual({seriesType:"line",reset:function(a){var t=a.getData(),e=a.getModel("lineStyle").getLineStyle();e&&!e.stroke&&(e.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",e)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Ke("line"))}function Sa(n,a){var t=Pe(a.get("padding")),e=a.getItemStyle(["color","opacity"]);return e.fill=a.get("backgroundColor"),n=new Lt({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:a.get("borderRadius")},style:e,silent:!0,z2:-1}),n}var ba=function(n,a){if(a==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(a==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},_a=function(n){B(a,n);function a(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=a.type,t.layoutMode={type:"box",ignoreSize:!0},t}return a.prototype.init=function(t,e,o){this.mergeDefaultAndTheme(t,o),t.selected=t.selected||{},this._updateSelector(t)},a.prototype.mergeOption=function(t,e){n.prototype.mergeOption.call(this,t,e),this._updateSelector(t)},a.prototype._updateSelector=function(t){var e=t.selector,o=this.ecModel;e===!0&&(e=t.selector=["all","inverse"]),jt(e)&&W(e,function(r,i){ut(r)&&(r={type:r}),e[i]=Ie(r,ba(o,r.type))})},a.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var e=!1,o=0;o<t.length;o++){var r=t[o].get("name");if(this.isSelected(r)){this.select(r),e=!0;break}}!e&&this.select(t[0].get("name"))}},a.prototype._updateData=function(t){var e=[],o=[];t.eachRawSeries(function(u){var l=u.name;o.push(l);var h;if(u.legendVisualProvider){var c=u.legendVisualProvider,f=c.getAllNames();t.isSeriesFiltered(u)||(o=o.concat(f)),f.length?e=e.concat(f):h=!0}else h=!0;h&&Ae(u)&&e.push(u.name)}),this._availableNames=o;var r=this.get("data")||e,i=Qt(),s=ct(r,function(u){return(ut(u)||Ct(u))&&(u={name:u}),i.get(u.name)?null:(i.set(u.name,!0),new Ce(u,this,this.ecModel))},this);this._data=Le(s,function(u){return!!u})},a.prototype.getData=function(){return this._data},a.prototype.select=function(t){var e=this.option.selected,o=this.get("selectedMode");if(o==="single"){var r=this._data;W(r,function(i){e[i.get("name")]=!1})}e[t]=!0},a.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},a.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},a.prototype.allSelect=function(){var t=this._data,e=this.option.selected;W(t,function(o){e[o.get("name",!0)]=!0})},a.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;W(t,function(o){var r=o.get("name",!0);e.hasOwnProperty(r)||(e[r]=!0),e[r]=!e[r]})},a.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&ke(this._availableNames,t)>=0},a.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},a.type="legend.plain",a.dependencies=["series"],a.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},a}(Ge);const bt=_a;var M=K,_t=W,rt=J,Da=function(n){B(a,n);function a(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=a.type,t.newlineDisabled=!1,t}return a.prototype.init=function(){this.group.add(this._contentGroup=new rt),this.group.add(this._selectorGroup=new rt),this._isFirstRender=!0},a.prototype.getContentGroup=function(){return this._contentGroup},a.prototype.getSelectorGroup=function(){return this._selectorGroup},a.prototype.render=function(t,e,o){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var i=t.get("align"),s=t.get("orient");(!i||i==="auto")&&(i=t.get("left")==="right"&&s==="vertical"?"right":"left");var u=t.get("selector",!0),l=t.get("selectorPosition",!0);u&&(!l||l==="auto")&&(l=s==="horizontal"?"end":"start"),this.renderInner(i,t,e,o,u,s,l);var h=t.getBoxLayoutParams(),c={width:o.getWidth(),height:o.getHeight()},f=t.get("padding"),v=Vt(h,c,f),m=this.layoutInner(t,i,v,r,u,l),g=Vt(yt({width:m.width,height:m.height},h),c,f);this.group.x=g.x-m.x,this.group.y=g.y-m.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Sa(m,t))}},a.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},a.prototype.renderInner=function(t,e,o,r,i,s,u){var l=this.getContentGroup(),h=Qt(),c=e.get("selectedMode"),f=[];o.eachRawSeries(function(v){!v.get("legendHoverLink")&&f.push(v.id)}),_t(e.getData(),function(v,m){var g=v.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var d=new rt;d.newline=!0,l.add(d);return}var p=o.getSeriesByName(g)[0];if(!h.get(g))if(p){var y=p.getData(),S=y.getVisual("legendLineStyle")||{},P=y.getVisual("legendIcon"),D=y.getVisual("style"),b=this._createItem(p,g,m,v,e,t,S,D,P,c,r);b.on("click",M(Zt,g,null,r,f)).on("mouseover",M(Dt,p.name,null,r,f)).on("mouseout",M(Pt,p.name,null,r,f)),h.set(g,!0)}else o.eachRawSeries(function(_){if(!h.get(g)&&_.legendVisualProvider){var A=_.legendVisualProvider;if(!A.containName(g))return;var L=A.indexOfName(g),C=A.getItemVisual(L,"style"),k=A.getItemVisual(L,"legendIcon"),I=we(C.fill);I&&I[3]===0&&(I[3]=.2,C=ot(ot({},C),{fill:Oe(I,"rgba")}));var G=this._createItem(_,g,m,v,e,t,{},C,k,c,r);G.on("click",M(Zt,null,g,r,f)).on("mouseover",M(Dt,null,g,r,f)).on("mouseout",M(Pt,null,g,r,f)),h.set(g,!0)}},this)},this),i&&this._createSelector(i,e,r,s,u)},a.prototype._createSelector=function(t,e,o,r,i){var s=this.getSelectorGroup();_t(t,function(l){var h=l.type,c=new st({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){o.dispatchAction({type:h==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(c);var f=e.getModel("selectorLabel"),v=e.getModel(["emphasis","selectorLabel"]);At(c,{normal:f,emphasis:v},{defaultText:l.title}),Ft(c)})},a.prototype._createItem=function(t,e,o,r,i,s,u,l,h,c,f){var v=t.visualDrawType,m=i.get("itemWidth"),g=i.get("itemHeight"),d=i.isSelected(e),p=r.get("symbolRotate"),y=r.get("symbolKeepAspect"),S=r.get("icon");h=S||h||"roundRect";var P=Pa(h,r,u,l,v,d,f),D=new rt,b=r.getModel("textStyle");if(Y(t.getLegendIcon)&&(!S||S==="inherit"))D.add(t.getLegendIcon({itemWidth:m,itemHeight:g,icon:h,iconRotate:p,itemStyle:P.itemStyle,lineStyle:P.lineStyle,symbolKeepAspect:y}));else{var _=S==="inherit"&&t.getData().getVisual("symbol")?p==="inherit"?t.getData().getVisual("symbolRotate"):p:0;D.add(Ia({itemWidth:m,itemHeight:g,icon:h,iconRotate:_,itemStyle:P.itemStyle,lineStyle:P.lineStyle,symbolKeepAspect:y}))}var A=s==="left"?m+5:-5,L=s,C=i.get("formatter"),k=e;ut(C)&&C?k=C.replace("{name}",e??""):Y(C)&&(k=C(e));var I=r.get("inactiveColor");D.add(new st({style:Te(b,{text:k,x:A,y:g/2,fill:d?b.getTextColor():I,align:L,verticalAlign:"middle"})}));var G=new Lt({shape:D.getBoundingRect(),invisible:!0}),O=r.getModel("tooltip");return O.get("show")&&Re({el:G,componentModel:i,itemName:e,itemTooltipOption:O.option}),D.add(G),D.eachChild(function(R){R.silent=!0}),G.silent=!c,this.getContentGroup().add(D),Ft(D),D.__legendDataIndex=o,D},a.prototype.layoutInner=function(t,e,o,r,i,s){var u=this.getContentGroup(),l=this.getSelectorGroup();tt(t.get("orient"),u,t.get("itemGap"),o.width,o.height);var h=u.getBoundingRect(),c=[-h.x,-h.y];if(l.markRedraw(),u.markRedraw(),i){tt("horizontal",l,t.get("selectorItemGap",!0));var f=l.getBoundingRect(),v=[-f.x,-f.y],m=t.get("selectorButtonGap",!0),g=t.getOrient().index,d=g===0?"width":"height",p=g===0?"height":"width",y=g===0?"y":"x";s==="end"?v[g]+=h[d]+m:c[g]+=f[d]+m,v[1-g]+=h[p]/2-f[p]/2,l.x=v[0],l.y=v[1],u.x=c[0],u.y=c[1];var S={x:0,y:0};return S[d]=h[d]+m+f[d],S[p]=Math.max(h[p],f[p]),S[y]=Math.min(0,f[y]+v[1-g]),S}else return u.x=c[0],u.y=c[1],this.group.getBoundingRect()},a.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},a.type="legend.plain",a}(Ee);function Pa(n,a,t,e,o,r,i){function s(d,p){d.lineWidth==="auto"&&(d.lineWidth=p.lineWidth>0?2:0),_t(d,function(y,S){d[S]==="inherit"&&(d[S]=p[S])})}var u=a.getModel("itemStyle"),l=u.getItemStyle(),h=n.lastIndexOf("empty",0)===0?"fill":"stroke",c=u.getShallow("decal");l.decal=!c||c==="inherit"?e.decal:Ne(c,i),l.fill==="inherit"&&(l.fill=e[o]),l.stroke==="inherit"&&(l.stroke=e[h]),l.opacity==="inherit"&&(l.opacity=(o==="fill"?e:t).opacity),s(l,e);var f=a.getModel("lineStyle"),v=f.getLineStyle();if(s(v,t),l.fill==="auto"&&(l.fill=e.fill),l.stroke==="auto"&&(l.stroke=e.fill),v.stroke==="auto"&&(v.stroke=e.fill),!r){var m=a.get("inactiveBorderWidth"),g=l[h];l.lineWidth=m==="auto"?e.lineWidth>0&&g?2:0:l.lineWidth,l.fill=a.get("inactiveColor"),l.stroke=a.get("inactiveBorderColor"),v.stroke=f.get("inactiveColor"),v.lineWidth=f.get("inactiveWidth")}return{itemStyle:l,lineStyle:v}}function Ia(n){var a=n.icon||"roundRect",t=nt(a,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),a.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function Zt(n,a,t,e){Pt(n,a,t,e),t.dispatchAction({type:"legendToggleSelect",name:n??a}),Dt(n,a,t,e)}function ie(n){for(var a=n.getZr().storage.getDisplayList(),t,e=0,o=a.length;e<o&&!(t=a[e].states.emphasis);)e++;return t&&t.hoverLayer}function Dt(n,a,t,e){ie(t)||t.dispatchAction({type:"highlight",seriesName:n,name:a,excludeSeriesId:e})}function Pt(n,a,t,e){ie(t)||t.dispatchAction({type:"downplay",seriesName:n,name:a,excludeSeriesId:e})}const ne=Da;function Aa(n){var a=n.findComponents({mainType:"legend"});a&&a.length&&n.filterSeries(function(t){for(var e=0;e<a.length;e++)if(!a[e].isSelected(t.name))return!1;return!0})}function Q(n,a,t){var e={},o=n==="toggleSelected",r;return t.eachComponent("legend",function(i){o&&r!=null?i[r?"select":"unSelect"](a.name):n==="allSelect"||n==="inverseSelect"?i[n]():(i[n](a.name),r=i.isSelected(a.name));var s=i.getData();W(s,function(u){var l=u.get("name");if(!(l===`
`||l==="")){var h=i.isSelected(l);e.hasOwnProperty(l)?e[l]=e[l]&&h:e[l]=h}})}),n==="allSelect"||n==="inverseSelect"?{selected:e}:{name:a.name,selected:e}}function Ca(n){n.registerAction("legendToggleSelect","legendselectchanged",K(Q,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",K(Q,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",K(Q,"inverseSelect")),n.registerAction("legendSelect","legendselected",K(Q,"select")),n.registerAction("legendUnSelect","legendunselected",K(Q,"unSelect"))}function oe(n){n.registerComponentModel(bt),n.registerComponentView(ne),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,Aa),n.registerSubTypeDefaulter("legend",function(){return"plain"}),Ca(n)}var La=function(n){B(a,n);function a(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=a.type,t}return a.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},a.prototype.init=function(t,e,o){var r=ze(t);n.prototype.init.call(this,t,e,o),Mt(this,t,r)},a.prototype.mergeOption=function(t,e){n.prototype.mergeOption.call(this,t,e),Mt(this,this.option,t)},a.type="legend.scroll",a.defaultOption=Ve(bt.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),a}(bt);function Mt(n,a,t){var e=n.getOrient(),o=[1,1];o[e.index]=0,Fe(a,t,{type:"box",ignoreSize:!!o})}const ka=La;var Kt=J,gt=["width","height"],pt=["x","y"],Ga=function(n){B(a,n);function a(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=a.type,t.newlineDisabled=!0,t._currentIndex=0,t}return a.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new Kt),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Kt)},a.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},a.prototype.renderInner=function(t,e,o,r,i,s,u){var l=this;n.prototype.renderInner.call(this,t,e,o,r,i,s,u);var h=this._controllerGroup,c=e.get("pageIconSize",!0),f=jt(c)?c:[c,c];m("pagePrev",0);var v=e.getModel("pageTextStyle");h.add(new st({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),m("pageNext",1);function m(g,d){var p=g+"DataIndex",y=Be(e.get("pageIcons",!0)[e.getOrient().name][d],{onclick:We(l._pageGo,l,p,e,r)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});y.name=g,h.add(y)}},a.prototype.layoutInner=function(t,e,o,r,i,s){var u=this.getSelectorGroup(),l=t.getOrient().index,h=gt[l],c=pt[l],f=gt[1-l],v=pt[1-l];i&&tt("horizontal",u,t.get("selectorItemGap",!0));var m=t.get("selectorButtonGap",!0),g=u.getBoundingRect(),d=[-g.x,-g.y],p=xe(o);i&&(p[h]=o[h]-g[h]-m);var y=this._layoutContentAndController(t,r,p,l,h,f,v,c);if(i){if(s==="end")d[l]+=y[h]+m;else{var S=g[h]+m;d[l]-=S,y[c]-=S}y[h]+=g[h]+m,d[1-l]+=y[v]+y[f]/2-g[f]/2,y[f]=Math.max(y[f],g[f]),y[v]=Math.min(y[v],g[v]+d[1-l]),u.x=d[0],u.y=d[1],u.markRedraw()}return y},a.prototype._layoutContentAndController=function(t,e,o,r,i,s,u,l){var h=this.getContentGroup(),c=this._containerGroup,f=this._controllerGroup;tt(t.get("orient"),h,t.get("itemGap"),r?o.width:null,r?null:o.height),tt("horizontal",f,t.get("pageButtonItemGap",!0));var v=h.getBoundingRect(),m=f.getBoundingRect(),g=this._showController=v[i]>o[i],d=[-v.x,-v.y];e||(d[r]=h[l]);var p=[0,0],y=[-m.x,-m.y],S=He(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(g){var P=t.get("pageButtonPosition",!0);P==="end"?y[r]+=o[i]-m[i]:p[r]+=m[i]+S}y[1-r]+=v[s]/2-m[s]/2,h.setPosition(d),c.setPosition(p),f.setPosition(y);var D={x:0,y:0};if(D[i]=g?o[i]:v[i],D[s]=Math.max(v[s],m[s]),D[u]=Math.min(0,m[u]+y[1-r]),c.__rectSize=o[i],g){var b={x:0,y:0};b[i]=Math.max(o[i]-m[i]-S,0),b[s]=D[s],c.setClipPath(new Lt({shape:b})),c.__rectSize=b[i]}else f.eachChild(function(A){A.attr({invisible:!0,silent:!0})});var _=this._getPageInfo(t);return _.pageIndex!=null&&et(h,{x:_.contentPosition[0],y:_.contentPosition[1]},g?t:null),this._updatePageInfoView(t,_),D},a.prototype._pageGo=function(t,e,o){var r=this._getPageInfo(e)[t];r!=null&&o.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:e.id})},a.prototype._updatePageInfoView=function(t,e){var o=this._controllerGroup;W(["pagePrev","pageNext"],function(h){var c=h+"DataIndex",f=e[c]!=null,v=o.childOfName(h);v&&(v.setStyle("fill",f?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),v.cursor=f?"pointer":"default")});var r=o.childOfName("pageText"),i=t.get("pageFormatter"),s=e.pageIndex,u=s!=null?s+1:0,l=e.pageCount;r&&i&&r.setStyle("text",ut(i)?i.replace("{current}",u==null?"":u+"").replace("{total}",l==null?"":l+""):i({current:u,total:l}))},a.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),o=this.getContentGroup(),r=this._containerGroup.__rectSize,i=t.getOrient().index,s=gt[i],u=pt[i],l=this._findTargetItemIndex(e),h=o.children(),c=h[l],f=h.length,v=f?1:0,m={contentPosition:[o.x,o.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return m;var g=P(c);m.contentPosition[i]=-g.s;for(var d=l+1,p=g,y=g,S=null;d<=f;++d)S=P(h[d]),(!S&&y.e>p.s+r||S&&!D(S,p.s))&&(y.i>p.i?p=y:p=S,p&&(m.pageNextDataIndex==null&&(m.pageNextDataIndex=p.i),++m.pageCount)),y=S;for(var d=l-1,p=g,y=g,S=null;d>=-1;--d)S=P(h[d]),(!S||!D(y,S.s))&&p.i<y.i&&(y=p,m.pagePrevDataIndex==null&&(m.pagePrevDataIndex=p.i),++m.pageCount,++m.pageIndex),p=S;return m;function P(b){if(b){var _=b.getBoundingRect(),A=_[u]+b[u];return{s:A,e:A+_[s],i:b.__legendDataIndex}}}function D(b,_){return b.e>=_&&b.s<=_+r}},a.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var e,o=this.getContentGroup(),r;return o.eachChild(function(i,s){var u=i.__legendDataIndex;r==null&&u!=null&&(r=s),u===t&&(e=s)}),e??r},a.type="legend.scroll",a}(ne);const wa=Ga;function Oa(n){n.registerAction("legendScroll","legendscroll",function(a,t){var e=a.scrollDataIndex;e!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:a},function(o){o.setScrollDataIndex(e)})})}function Ta(n){dt(oe),n.registerComponentModel(ka),n.registerComponentView(wa),Oa(n)}function za(n){dt(oe),dt(Ta)}export{Na as a,za as i};
